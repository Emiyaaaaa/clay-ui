<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Switch Component Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Switch component implementation
        const Switch = React.forwardRef(({
            label,
            size = 'md',
            description,
            error,
            className,
            disabled,
            checked,
            onChange,
            ...rest
        }, ref) => {
            const sizeMap = {
                sm: { track: 'h-4 w-7', thumb: 'h-3 w-3', text: 'text-sm' },
                md: { track: 'h-5 w-9', thumb: 'h-4 w-4', text: 'text-sm' },
                lg: { track: 'h-6 w-11', thumb: 'h-5 w-5', text: 'text-base' }
            };
            
            const sizeClasses = sizeMap[size];
            const hasError = !!error;
            
            const switchElement = (
                <div className="relative inline-flex">
                    <input
                        ref={ref}
                        type="checkbox"
                        className="sr-only"
                        disabled={disabled}
                        checked={checked}
                        onChange={onChange}
                        {...rest}
                    />
                    <div
                        className={[
                            'relative inline-flex items-center rounded-full transition-colors duration-200 ease-in-out cursor-pointer',
                            sizeClasses.track,
                            disabled ? 'opacity-50 cursor-not-allowed' : '',
                            hasError
                                ? 'bg-red-200'
                                : 'bg-gray-200 peer-checked:bg-blue-600',
                            className ?? '',
                        ].join(' ')}
                    >
                        <span
                            className={[
                                'inline-block rounded-full bg-white shadow transform transition-transform duration-200 ease-in-out',
                                sizeClasses.thumb,
                            ].join(' ')}
                            style={{
                                transform: checked ? `translateX(${size === 'sm' ? '12px' : size === 'md' ? '16px' : '20px'})` : 'translateX(2px)',
                            }}
                        />
                    </div>
                </div>
            );
            
            if (!label && !description && !error) {
                return switchElement;
            }
            
            return (
                <div className="flex items-start space-x-3">
                    {switchElement}
                    <div className="flex-1 min-w-0">
                        {label && (
                            <label
                                className={[
                                    'block font-medium text-gray-900 cursor-pointer',
                                    sizeClasses.text,
                                    disabled ? 'opacity-50 cursor-not-allowed' : '',
                                ].join(' ')}
                                htmlFor={rest.id}
                            >
                                {label}
                            </label>
                        )}
                        {description && (
                            <p
                                className={[
                                    'mt-1 text-gray-500',
                                    sizeClasses.text,
                                    disabled ? 'opacity-50' : '',
                                ].join(' ')}
                            >
                                {description}
                            </p>
                        )}
                        {error && (
                            <p className="mt-1 text-sm text-red-600">
                                {error}
                            </p>
                        )}
                    </div>
                </div>
            );
        });
        
        // Demo component
        function SwitchDemo() {
            const [notifications, setNotifications] = useState(false);
            const [marketing, setMarketing] = useState(true);
            const [disabled, setDisabled] = useState(false);
            
            return (
                <div className="p-8 space-y-8">
                    <h1 className="text-3xl font-bold text-gray-900">Switch Component Demo</h1>
                    
                    <div className="space-y-6">
                        <div>
                            <h2 className="text-xl font-semibold mb-4">Basic Examples</h2>
                            <div className="space-y-4">
                                <Switch 
                                    label="Enable notifications" 
                                    checked={notifications}
                                    onChange={(e) => setNotifications(e.target.checked)}
                                />
                                <Switch 
                                    label="Marketing emails" 
                                    description="Receive promotional content"
                                    checked={marketing}
                                    onChange={(e) => setMarketing(e.target.checked)}
                                />
                                <Switch 
                                    label="Disabled switch" 
                                    disabled={disabled}
                                />
                            </div>
                        </div>
                        
                        <div>
                            <h2 className="text-xl font-semibold mb-4">Different Sizes</h2>
                            <div className="space-y-4">
                                <Switch size="sm" label="Small switch" />
                                <Switch size="md" label="Medium switch" />
                                <Switch size="lg" label="Large switch" />
                            </div>
                        </div>
                        
                        <div>
                            <h2 className="text-xl font-semibold mb-4">Error State</h2>
                            <Switch 
                                label="Required field" 
                                error="This field is required"
                            />
                        </div>
                        
                        <div>
                            <h2 className="text-xl font-semibold mb-4">Without Labels</h2>
                            <div className="flex gap-4">
                                <Switch />
                                <Switch checked />
                                <Switch disabled />
                                <Switch disabled checked />
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        
        ReactDOM.render(<SwitchDemo />, document.getElementById('root'));
    </script>
</body>
</html>
