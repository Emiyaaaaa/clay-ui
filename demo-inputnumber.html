<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clay UI - InputNumber Component Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bg-surface { background-color: #f8fafc; }
        .bg-surface-dark { background-color: #f1f5f9; }
        .text-primary-600 { color: #2563eb; }
        .text-primary-500 { color: #3b82f6; }
        .bg-primary-600 { background-color: #2563eb; }
        .bg-primary-500 { background-color: #3b82f6; }
        .shadow-neu { 
            box-shadow: 8px 8px 16px #d1d9e6, -8px -8px 16px #ffffff; 
        }
        .shadow-neu-inset { 
            box-shadow: inset 8px 8px 16px #d1d9e6, inset -8px -8px 16px #ffffff; 
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // InputNumber Component (simplified version for demo)
        const InputNumber = React.forwardRef(({
            label,
            variant = 'default',
            size = 'md',
            description,
            error,
            fullWidth,
            className,
            disabled,
            id,
            value,
            defaultValue,
            onChange,
            min,
            max,
            step = 1,
            precision,
            showControls = true,
            controlsPosition = 'right',
            allowNegative = true,
            allowDecimal = true,
            thousandSeparator = ',',
            decimalSeparator = '.',
            prefix,
            suffix,
            ...rest
        }, ref) => {
            const [internalValue, setInternalValue] = useState(() => {
                const initialValue = value !== undefined ? value : defaultValue;
                return initialValue !== undefined ? initialValue.toString() : '';
            });

            const hasError = !!error;
            const inputId = id || `input-number-${Math.random().toString(36).substr(2, 9)}`;
            
            const sizeMap = {
                sm: { input: 'h-9 px-3 text-sm', button: 'h-4 w-4', icon: 'w-3 h-3' },
                md: { input: 'h-10 px-4 text-sm', button: 'h-5 w-5', icon: 'w-4 h-4' },
                lg: { input: 'h-12 px-5 text-base', button: 'h-6 w-6', icon: 'w-5 h-5' },
            };
            
            const variantMap = {
                default: 'bg-surface text-gray-900 placeholder:text-gray-500 shadow-neu focus-visible:shadow-neu-inset',
                filled: 'bg-gray-100 text-gray-900 placeholder:text-gray-500 focus:bg-white focus:shadow-neu',
                outlined: 'bg-transparent text-gray-900 placeholder:text-gray-500 border border-gray-300 focus:border-primary-500',
            };
            
            const base = 'block w-full rounded-xl border-0 transition-colors outline-offset-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500';
            const sizeClasses = sizeMap[size];

            const handleChange = (event) => {
                let inputValue = event.target.value;
                
                if (!allowDecimal && inputValue.includes(decimalSeparator)) {
                    return;
                }
                
                if (!allowNegative && inputValue.startsWith('-')) {
                    return;
                }
                
                const numericValue = parseFloat(inputValue);
                setInternalValue(inputValue);
                
                if (onChange) {
                    onChange(isNaN(numericValue) ? undefined : numericValue, event);
                }
            };

            const handleStep = (direction) => {
                if (disabled) return;
                
                const currentValue = parseFloat(internalValue) || 0;
                let newValue = direction === 'up' ? currentValue + step : currentValue - step;
                
                if (min !== undefined) newValue = Math.max(newValue, min);
                if (max !== undefined) newValue = Math.min(newValue, max);
                
                const formattedValue = precision !== undefined ? newValue.toFixed(precision) : newValue.toString();
                setInternalValue(formattedValue);
                
                if (onChange) {
                    const syntheticEvent = { target: { value: formattedValue } };
                    onChange(newValue, syntheticEvent);
                }
            };

            const ControlButton = ({ direction, position }) => (
                <button
                    type="button"
                    className={[
                        'absolute top-1/2 -translate-y-1/2 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors',
                        position === 'left' ? 'left-1' : 'right-1',
                        sizeClasses.button,
                        disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer',
                    ].join(' ')}
                    onClick={() => handleStep(direction)}
                    disabled={disabled}
                    tabIndex={-1}
                >
                    {direction === 'up' ? (
                        <svg className={sizeClasses.icon} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                        </svg>
                    ) : (
                        <svg className={sizeClasses.icon} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                        </svg>
                    )}
                </button>
            );

            const inputElement = (
                <div className="relative">
                    {showControls && (controlsPosition === 'left' || controlsPosition === 'both') && (
                        <div className="absolute left-0 top-0 h-full flex flex-col">
                            <ControlButton direction="up" position="left" />
                            <ControlButton direction="down" position="left" />
                        </div>
                    )}
                    
                    {prefix && (
                        <div className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none">
                            {prefix}
                        </div>
                    )}
                    
                    <input
                        ref={ref}
                        id={inputId}
                        type="text"
                        inputMode="numeric"
                        className={[
                            base,
                            sizeClasses.input,
                            variantMap[variant],
                            hasError ? 'border-red-500 focus-visible:outline-red-500' : '',
                            disabled ? 'opacity-50 cursor-not-allowed' : '',
                            prefix ? 'pl-8' : '',
                            suffix || showControls ? 'pr-8' : '',
                            fullWidth ? 'w-full' : '',
                            className ?? '',
                        ].join(' ')}
                        disabled={disabled}
                        value={internalValue}
                        onChange={handleChange}
                        {...rest}
                    />
                    
                    {suffix && (
                        <div className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none">
                            {suffix}
                        </div>
                    )}
                    
                    {showControls && (controlsPosition === 'right' || controlsPosition === 'both') && (
                        <div className="absolute right-0 top-0 h-full flex flex-col">
                            <ControlButton direction="up" position="right" />
                            <ControlButton direction="down" position="right" />
                        </div>
                    )}
                </div>
            );

            if (!label && !description && !error) {
                return inputElement;
            }

            return (
                <div className={fullWidth ? 'w-full' : ''}>
                    {label && (
                        <label
                            className={[
                                'block text-sm font-medium text-gray-900 mb-1',
                                disabled ? 'opacity-50' : '',
                            ].join(' ')}
                            htmlFor={inputId}
                        >
                            {label}
                        </label>
                    )}
                    {inputElement}
                    {description && !error && (
                        <p
                            className={[
                                'mt-1 text-sm text-gray-500',
                                disabled ? 'opacity-50' : '',
                            ].join(' ')}
                        >
                            {description}
                        </p>
                    )}
                    {error && (
                        <p className="mt-1 text-sm text-red-600">
                            {error}
                        </p>
                    )}
                </div>
            );
        });

        // Demo App
        function App() {
            const [price, setPrice] = useState(0);
            const [quantity, setQuantity] = useState(1);
            const [percentage, setPercentage] = useState(0);

            return (
                <div className="max-w-6xl mx-auto">
                    <h1 className="text-3xl font-bold text-gray-900 mb-8">Clay UI - InputNumber Component</h1>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {/* Basic Examples */}
                        <div className="space-y-6">
                            <h2 className="text-xl font-semibold text-gray-800">Basic Examples</h2>
                            
                            <div>
                                <InputNumber 
                                    placeholder="Enter number..." 
                                    label="Default Input"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    placeholder="Filled style" 
                                    label="Filled Input"
                                    variant="filled"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    placeholder="Outlined style" 
                                    label="Outlined Input"
                                    variant="outlined"
                                />
                            </div>
                        </div>

                        {/* Interactive Examples */}
                        <div className="space-y-6">
                            <h2 className="text-xl font-semibold text-gray-800">Interactive Examples</h2>
                            
                            <div>
                                <InputNumber 
                                    label="Price"
                                    placeholder="0.00"
                                    prefix="$"
                                    precision={2}
                                    value={price}
                                    onChange={(value) => setPrice(value || 0)}
                                    description="Enter price in USD"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Quantity"
                                    placeholder="Enter quantity"
                                    value={quantity}
                                    onChange={(value) => setQuantity(value || 0)}
                                    min={1}
                                    step={1}
                                    description="Minimum 1 item"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Percentage"
                                    placeholder="0"
                                    suffix="%"
                                    value={percentage}
                                    onChange={(value) => setPercentage(value || 0)}
                                    max={100}
                                    description="0-100% range"
                                />
                            </div>
                        </div>

                        {/* Size Examples */}
                        <div className="space-y-6">
                            <h2 className="text-xl font-semibold text-gray-800">Sizes</h2>
                            
                            <div>
                                <InputNumber size="sm" placeholder="Small input" label="Small" />
                            </div>
                            
                            <div>
                                <InputNumber size="md" placeholder="Medium input" label="Medium" />
                            </div>
                            
                            <div>
                                <InputNumber size="lg" placeholder="Large input" label="Large" />
                            </div>
                        </div>

                        {/* Control Examples */}
                        <div className="space-y-6">
                            <h2 className="text-xl font-semibold text-gray-800">Control Positions</h2>
                            
                            <div>
                                <InputNumber 
                                    label="Right Controls"
                                    placeholder="Default position"
                                    description="Controls on the right"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Left Controls"
                                    placeholder="Left position"
                                    controlsPosition="left"
                                    description="Controls on the left"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Both Sides"
                                    placeholder="Both positions"
                                    controlsPosition="both"
                                    description="Controls on both sides"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="No Controls"
                                    placeholder="No controls"
                                    showControls={false}
                                    description="No increment/decrement buttons"
                                />
                            </div>
                        </div>

                        {/* Validation Examples */}
                        <div className="space-y-6">
                            <h2 className="text-xl font-semibold text-gray-800">Validation</h2>
                            
                            <div>
                                <InputNumber 
                                    label="Integer Only"
                                    placeholder="Whole numbers only"
                                    allowDecimal={false}
                                    description="No decimal points allowed"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Positive Only"
                                    placeholder="Positive numbers only"
                                    allowNegative={false}
                                    min={0}
                                    description="No negative numbers"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="With Error"
                                    placeholder="Invalid input"
                                    error="Value must be between 1 and 100"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Disabled"
                                    placeholder="Cannot edit"
                                    disabled
                                    value={42}
                                />
                            </div>
                        </div>

                        {/* Currency Examples */}
                        <div className="space-y-6">
                            <h2 className="text-xl font-semibold text-gray-800">Currency & Formatting</h2>
                            
                            <div>
                                <InputNumber 
                                    label="USD Amount"
                                    placeholder="0.00"
                                    prefix="$"
                                    precision={2}
                                    thousandSeparator=","
                                    description="US Dollar format"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="EUR Amount"
                                    placeholder="0,00"
                                    prefix="€"
                                    precision={2}
                                    thousandSeparator="."
                                    decimalSeparator=","
                                    description="Euro format (European)"
                                />
                            </div>
                            
                            <div>
                                <InputNumber 
                                    label="Weight"
                                    placeholder="0"
                                    suffix="kg"
                                    precision={1}
                                    description="Weight in kilograms"
                                />
                            </div>
                        </div>
                    </div>

                    {/* Summary */}
                    <div className="mt-12 p-6 bg-white rounded-xl shadow-neu">
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Current Values</h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                            <div>
                                <span className="font-medium">Price:</span> ${price.toFixed(2)}
                            </div>
                            <div>
                                <span className="font-medium">Quantity:</span> {quantity}
                            </div>
                            <div>
                                <span className="font-medium">Percentage:</span> {percentage}%
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
